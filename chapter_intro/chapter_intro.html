<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>FMB819: R을 이용한 데이터분석</title>
    <meta charset="utf-8" />
    <meta name="date" content="2025-02-12" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/countdown/countdown.css" rel="stylesheet" />
    <script src="libs/countdown/countdown.js"></script>
    <script src="https://use.fontawesome.com/5235085b15.js"></script>
    <link rel="stylesheet" href="../css/scpo.css" type="text/css" />
    <link rel="stylesheet" href="../css/scpo-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# FMB819: R을 이용한 데이터분석
]
.subtitle[
## Introduction
]
.date[
### 2025-02-12
]

---


layout: true

&lt;div class="my-footer"&gt;&lt;img src="../img/logo/KUBS-shield.png" style="height: 60px;"/&gt;&lt;/div&gt; 

---





# Welcome to FMB 819!

- 수업의 목표

    1.  통계 소프트웨어 R과 친숙해지고,
    1.   데이터를 수집, 가공, 표현할 수 있으며
    1.   기본적 통계 개념 이해하여
    1.   데이터 분석의 결과를 해석할 수 있다.


- 데이터 분석의 목표

    1.  **기술 요약(Description)**: 현상을 설명
    1.  **예측(Prediction)**: 관측되지 않는 값을 예측
    1.  **인과 관계(Causality)**: 한 변수가 다른 변수에 미치는 영향 분석

---

# 데이터 분석을 통해 답하고자 하는 질문

1.  **기술요약(Description)**:
    -   한국 성인 중 연 소득이 2천만원 미만인 사람은 몇 명인가? 평균 소득은 얼마인가? 대학 학위가 있는 사람과 없는 사람 간 평균 소득 차이는 얼마인가?
    
1.  **예측(Prediction)**:
    -   회사 웹사이트 방문자의 소득 (광고 목적)? 다음 분기 한국의 총소비 및 총소득은?
    
1.  **인과 관계(Causality)**:
    -   __한 개인__이 대학 학위를 가졌을 때와 가지지 않았을 때의 소득 차이는 얼마나 될까? (다른 모든 조건 – 부모의 배경, 키, 사회적 기술 등 – 이 동일하다고 가정할 때), 해당 개인이 남성이었을 경우 소득은 얼마나 달라질까?

---

# ...continued

*   많은 경우 의사 결정을 위해서 기술/예측/인과 관계를 조합적으로 파악할 필요

    -   우수한 학생들을 돕기 위해 다른 학생들의 기회를 희생할 수 있는 특목고를 운영해야 할까?
    
    -   특목고 운영 여부는 특목고가 다양한 학생들에게 미치는 **인과적 효과**뿐만 아니라, 현재 학생 **구성(기술)**과 미래 학생 **구성(예측)**을 고려해야.
    
    -   물론 의사결정을 위해서는 가치판단이 필요: 이는 데이터 분석의 영역이 아님
  

---

# `R`이란?

- `R`은 강력한 통계 및 그래픽 기능을 갖춘 **프로그래밍 언어**.


- `R`을 사용하는 이유

    1. **무료(free)**이며 **오픈소스(open source)** 
    1. **유연하고 강력함** → 데이터 정리, 시각화, 기계학습 등 거의 모든 분석 가능.  
    1. [활발한 온라인 커뮤니티](https://stackoverflow.com/questions/tagged/r), 대부분의 문제에 대한 해결책 존재.  

---

# 데이터 처리 (Data Wrangling)

- 데이터 분석 전에 데이터를 정리하는 데 많은 시간 소요됨.

- `gapminder` 데이터셋 사용: 1952~2007년 각국의 기대수명, 1인당 GDP, 인구 데이터 포함.

- 각 연도별/대륙별 평균 기대수명과 평균 1인당 GDP 계산 목표.

- 우선 대륙 *and* 연도별로 자료를 그룹핑을 하고, 평균 기대수명과 평균 1인당 GDP 계산

--

.pull-left[

``` r
# load gapminder package
library(gapminder)
# load the dataset from the gapminder package
data(gapminder, package = "gapminder") 
# show first 4 lines of this dataframe
head(gapminder,n = 4)
```
]

.pull-right[

```
## # A tibble: 4 × 6
##   country     continent  year lifeExp      pop gdpPercap
##   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
## 1 Afghanistan Asia       1952    28.8  8425333      779.
## 2 Afghanistan Asia       1957    30.3  9240934      821.
## 3 Afghanistan Asia       1962    32.0 10267083      853.
## 4 Afghanistan Asia       1967    34.0 11537966      836.
```
]

---

# ...continued

* 당연히, 여러 가지 방법으로 이 작업을 할 수 있다. 

* 여기서는 `dplyr`패키지를 사용하겠다.:


``` r
library(dplyr)
# compute the required statistics
gapminder_dplyr &lt;- gapminder %&gt;% 
  group_by(continent, year) %&gt;% 
  summarise(count = n(),
            mean_lifeexp = mean(lifeExp),
            mean_gdppercap = mean(gdpPercap))
```


``` r
# show first 5 lines of the new data
head(gapminder_dplyr, n = 5)
```

```
## # A tibble: 5 × 5
## # Groups:   continent [1]
##   continent  year count mean_lifeexp mean_gdppercap
##   &lt;fct&gt;     &lt;int&gt; &lt;int&gt;        &lt;dbl&gt;          &lt;dbl&gt;
## 1 Africa     1952    52         39.1          1253.
## 2 Africa     1957    52         41.3          1385.
## 3 Africa     1962    52         43.3          1598.
## 4 Africa     1967    52         45.3          2050.
## 5 Africa     1972    52         47.5          2340.
```

---

# Visualisation

.pull-left[
* 그래프를 그려서 `gapminder_dplyr`를 살펴보자:


``` r
ggplot(data = gapminder_dplyr, 
       mapping = aes(x = mean_lifeexp,
                     y = mean_gdppercap,
                     color = continent,
                     size = count)) +
  geom_point(alpha = 1/2) +
  labs(x = "Average life expectancy",
       y = "Average GDP per capita",
       color = "Continent",
       size = "Nb of countries") +
  theme_bw()
```
]

.pull-right[
&lt;img src="chapter_intro_files/figure-html/gampminder_plot-1.svg" style="display: block; margin: auto;" /&gt;
]

---

# Animated Plotting 



.center[![Gapminder](chapter_intro_files/figure-html/ex_gganimate.gif)]

.footnote[
출처: [Ed Rubin](https://raw.githack.com/edrubin/EC421S19/master/LectureNotes/01Intro/01_intro.html#40).
]

---


# R 설치 방법 - Windows 환경 기준

-   `winget`을 이용한 설치

    *  PowerShell 또는 명령 프롬프트(cmd) 열고 아래 명령어 실행
    
    ``` r
    winget install -e --id RProject.R
    ```


-   공식 웹사이트에서 다운로드하여 설치

    1.  [CRAN 공식 웹사이트](https://cran.r-project.org/)에 접속
    1.  "Download R for Windows" 클릭
    1.  "base" 패키지를 선택하고 최신 버전을 다운로드
    1.  다운로드한 설치 파일 실행 후 기본 설정으로 설치 진행
    
    
---


# RStudio 설치 방법

R 프로그래밍 언어를 위한 통합 개발 환경(IDE, Integrated Development Environment)

-   `winget` 을 이용한 설치
    *  PowerShell 또는 명령 프롬프트 열고 아래 명령어 실행
    
    ``` r
    winget install -e --id Posit.RStudio
    ```

    *  RStudio 업그레이드가 필요할 경우 다음 명령어 실행
    
    ``` r
    winget upgrade --id Posit.RStudio
    ```

-   공식 웹사이트에서 다운로드하여 설치

    1.  [RStudio 공식 웹사이트](https://posit.co/download/rstudio-desktop/) 접속
    1.  "RStudio Desktop"의 무료 버전을 선택하여 다운로드
    1.  다운로드한 설치 파일 실행 후 기본 설정으로 설치
    1.  설치 완료 후 RStudio 실행하여 정상 작동하는지 확인

---


# 설치 확인

설치가 정상적으로 완료되었는지 확인하기 위해 R과 RStudio 실행.

1.  **RStudio 실행**
    -   Windows 검색창에서 "RStudio" 검색 후 실행.
    -   콘솔에서 `version` 입력하여 설치된 R 버전 확인.

``` r
version
```
1.  **R에서 간단한 코드 실행**
    -   다음 코드를 console에서 실행하여 정상 동작하는지 확인.


``` r
print("R과 RStudio 설치 완료!")
```

```
## [1] "R과 RStudio 설치 완료!"
```


---

# RStudio Layout

&lt;img src="chapter_intro_files/figure-html/rstudio.png" width="600px" style="display: block; margin: auto;" /&gt;

---



# RStudio 환경

RStudio를 실행하면 여러 창(윈도우)으로 구성되어 있음.

- **콘솔(Console)**: 명령어를 입력하고 실행하는 창. `&gt;` 프롬프트에서 R 코드 입력 후 실행

- **스크립트 편집기 (Source Editor)**: `.R` 파일을 열거나 작성. 여러 줄의 코드를 작성/실행 가능

- **환경 창 (Environment)**: 현재 사용 중인 변수와 데이터 프레임을 확인. 데이터 구조를 파악

- **파일 및 플롯 창 (Files, Plots, Packages, Help)**
    -   **Files**: 작업 디렉터리 내 파일 목록 확인
    -   **Plots**: 생성된 그래프 확인
    -   **Packages**: 설치된 패키지 목록 및 관리
    -   **Help**: R 함수 및 패키지 도움말 검색 가능
    
---


# R 콘솔과 프롬프트

-   기본적인 실행 방법
    -   `&gt;` 뒤에 명령어 입력 후 `Enter`를 누르면 실행. 

``` r
2 + 2 
```

```
## [1] 4
```
-   R 콘솔 사용 팁
    -   **이전 명령어 불러오기**: 위쪽 화살표(`↑`) 키를 사용하면 이전에 입력한 명령어를 불러옴
    -   **명령어 자동 완성**: Tab 키를 사용하여 변수 및 함수 자동 완성 가능.
    -   **여러 줄 입력**:
        -   긴 명령어 입력 시 자동으로 다음 줄로 넘어감 (`+` 기호 표시됨).
        -   `Shift + Enter`를 누르면 줄바꿈만 하고 실행되지 않음.

``` r
x &lt;- 10 +
       20 +
       30  # Shift + Enter 사용 가능
print(x)
```

```
## [1] 60
```

---

# R 스크립트 (Script)

-   **새로운 R 스크립트 생성**: `File &gt; New File &gt; R Script` 선택.
-   **스크립트에서 코드 실행**:
    -   `Ctrl + Enter`: 현재 줄 실행.
    -   `Ctrl + Alt + R`: 전체 스크립트 실행.
-   **주석 작성**: `#`을 사용하여 코드 설명 추가 가능.


``` r
# 변수 선언
a &lt;- 5
b &lt;- 10

# 변수 더하기
c &lt;- a + b
print(c)  # 결과: 15
```

```
## [1] 15
```


---

class: inverse

<div class="countdown" id="timer_a8d47225" data-update-every="1" tabindex="0" style="top:0;right:0;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>


# Task 1

1. 새로운 R 스크립트를 생성하시오 (`File &gt; New File &gt; R Script`) 파일을 `lecture_intro.R`로 저장하시오.

1. 다음 코드를 스크립트에 입력하고 실행하시오. 코드를 실행하려면 `Ctrl` + `Enter` (코드를 강조 표시하거나 커서를 코드 줄 끝에 놓으면 실행).
    
    ``` r
    4 * 8
    ```

1. 첫 번째 줄만 실행하면 무슨 일이 일어나는지 확인하시오. (객체(object) 생성)
    
    ``` r
    x = 5 # 또는 x &lt;- 5
    x
    ```

1. `x`의 세제곱을 할당하는 `x_3`이라는 새로운 객체를 만드시오. 할당할 때 `=` 또는 `&lt;-`를 사용. 

---



# 도움말 찾는 방법

.pull-left[
`R` built-in `help`:

``` r
?log #? in front of function
help(lm)   # help() is equivalent
??plot  # get all help on keyword "plot"
```
]

--

.pull-right[
In practice:
![Learning R](chapter_intro_files/figure-html/learning_path.png)
]


---

# R 패키지 (Packages)

* `R` 사용자는 추가 데이터와 기능을 *Packages* 형태로 제공할 수 있음.

* 패키지 설치는 간단. `install.packages` 함수를 사용:
    
    ``` r
    install.packages("ggplot2")
    ```

* 패키지의 내용을 *사용*하려면, Library에서 불러와야 함. 이를 위해 `library` 함수를 사용:
    
    ``` r
    library(ggplot2)
    ```

---

# 벡터 (Vectors)



.pull-left[
* `c` 함수를 사용하여 벡터, 즉 *1차원 배열*을 생성.
    
    ``` r
    c(1, 3, 5, 7, 8, 9)
    ```
    
    ```
    ## [1] 1 3 5 7 8 9
    ```
    
* 여러 형태의 요소를 벡터로 만들 수 있음. 모두 문자로 변환
    
    ``` r
    (v &lt;- c(42, "Statistics", TRUE))
    ```
    
    ```
    ## [1] "42"         "Statistics" "TRUE"
    ```
    * 소괄호: 객체 값을 바로 출력    
]

--

.pull-right[

* 범위(*range*) 생성
    
    ``` r
    1:10
    ```
    
    ```
    ##  [1]  1  2  3  4  5  6  7  8  9 10
    ```

* 대괄호 연산자 `[index]`를 사용하여 벡터 요소를 가져오기: 
    
    ``` r
    v[c(1,3)]
    ```
    
    ```
    ## [1] "42"   "TRUE"
    ```
]

---

# `data.frame`

`data.frame`은 **표 형식(tabular)의 데이터**를 나타냄. 엑셀 스프레드시트와 유사.


``` r
example_data = data.frame(x = c(1, 3, 5, 7),
                          y = c(rep("Hello", 3), "Goodbye"),
                          z = c("one", 2, "three", 4))
example_data
```

```
##   x       y     z
## 1 1   Hello   one
## 2 3   Hello     2
## 3 5   Hello three
## 4 7 Goodbye     4
```

* `data.frame`은 *행(rows)* 과 *열(columns)* 의 두 가지 차원을 가짐. *행렬(matrix)* 과 유사하며, `[row_index,col_index]` 형식으로 요소를 선택 가능.

* 실제로는 `data.frame`을 직접 생성하기보다는, 데이터를 포함하는 파일을 `R`로 불러오는 방식이 일반적.

---

class: inverse

<div class="countdown" id="timer_3fab4d64" data-update-every="1" tabindex="0" style="top:0;right:0;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">07</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

# Task 2





1. `help(read.csv)` 또는 구글을 사용하여 `.csv` 파일을 가져오는 방법을 찾아보시오. 단, "Import Dataset" 버튼을 사용하거나 패키지를 설치하지 마시오.

1. gun_murders.csv (https://www.dropbox.com/s/zuk0qcfm3kyzs4e/gun_murders.csv?dl=1) 파일을 새로운 객체 `murders`에 저장하시오. 이 파일은 2010년 미국 주별 총기 살인 사건 데이터를 포함. (힌트: 객체는 `=` 또는 `&lt;-`를 사용하여 생성)

1. `murders`가 `data.frame` 형식인지 확인하시오:
    
    ``` r
    class(murder) # 클래스 확인
    ```

1. `murders`에 포함된 변수를 확인하시오:
    
    ``` r
    names(murders) # 변수명 확인
    ```

1. 작업 공간에서 `murders`를 클릭하여 내용을 확인하시오 `total` 변수는 무엇을 의미하는가?



---

# `data.frame` ...continued

Dataframe을 설명하는 데 유용한 함수

``` r
str(murders) # `str` 함수는 R 객체의 구조를 설명
```

```
## 'data.frame':	51 obs. of  5 variables:
##  $ state     : chr  "Alabama" "Alaska" "Arizona" "Arkansas" ...
##  $ abb       : chr  "AL" "AK" "AZ" "AR" ...
##  $ region    : chr  "South" "West" "West" "South" ...
##  $ population: int  4779736 710231 6392017 2915918 37253956 5029196 3574097 897934 601723 19687653 ...
##  $ total     : int  135 19 232 93 1257 65 97 38 99 669 ...
```

--


``` r
names(murders) # column names
```

```
## [1] "state"      "abb"        "region"     "population" "total"
```

--


``` r
nrow(murders) # number of rows
```

```
## [1] 51
```

--


``` r
ncol(murders) # number of columns
```

```
## [1] 5
```


---

# 데이터프레임 열 (column) 접근하기

* 한 개의 열을 **벡터 형태로 추출**하려면 `$` 연산자 (`murders$state`) 또는 대괄호 연산자 `[which_index]`를 이름이나 위치 인덱스와 함께 사용할 수 있음:
    
    ``` r
    first5 &lt;- murders[1:5, ]  # 처음 5개 주만 선택
    first5$state  # $ 연산자로 추출
    ```
    
    ```
    ## [1] "Alabama"    "Alaska"     "Arizona"    "Arkansas"   "California"
    ```
    
    ``` r
    first5[ ,"state"]  # 열 이름으로 추출
    ```
    
    ```
    ## [1] "Alabama"    "Alaska"     "Arizona"    "Arkansas"   "California"
    ```
    
    ``` r
    first5[ ,1] # 첫 번째 열 가져오기
    ```
    
    ```
    ## [1] "Alabama"    "Alaska"     "Arizona"    "Arkansas"   "California"
    ```

--

.pull-left[
* 객체의 `class` 확인 (데이터구조):
    
    ``` r
    class(murders)
    ```
    
    ```
    ## [1] "data.frame"
    ```
]

.pull-right[
* `typeof` 함수: 데이터 저장 방식
    
    ``` r
    typeof(murders)
    ```
    
    ```
    ## [1] "list"
    ```
]


&lt;!-- .footnote[ --&gt;
&lt;!-- ```{r} --&gt;
&lt;!-- x &lt;- c(1, 2, 3)  # 숫자 벡터 --&gt;
&lt;!-- class(x)   # 벡터의 추상적 유형 --&gt;
&lt;!-- typeof(x)  # 내부 저장 방식 --&gt;
&lt;!-- ``` --&gt;
&lt;!-- ] --&gt;

---


# `data.frames`: subset 만들기

* 데이터프레임에서 특정 부분을 선택하려면 `murders[행 조건, 열 번호]` 또는 `murders[행 조건, "열 이름"]`을 사용.
    
    ``` r
    # 총기 살인 사건이 500건 이상인 주만 선택하고 "state"와 "total" 변수만 유지
    murders[murders$total &gt; 500, c("state", "total")]
    ```
    
    ```
    ##         state total
    ## 5  California  1257
    ## 10    Florida   669
    ## 33   New York   517
    ## 44      Texas   805
    ```
    
    ``` r
    # 캘리포니아와 텍사스만 선택하고 "state"와 "total" 변수만 유지
    murders[murders$state %in% c("California", "Texas"), c("state", "total")]
    ```
    
    ```
    ##         state total
    ## 5  California  1257
    ## 44      Texas   805
    ```
    
    * `subset` 명령어 사용 가능 (종종 더 직관적)
    
    ``` r
    subset(murders, total &gt; 500, select = c(state, total))
    subset(murders, state %in% c("California", "Texas"), select = c(state, total))
    ```



---

class: inverse

# Task 3

<div class="countdown" id="timer_ad7fa178" data-update-every="1" tabindex="0" style="top:0;right:0;">
<div class="countdown-controls"><button class="countdown-bump-down">&minus;</button><button class="countdown-bump-up">&plus;</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>


1. `murders` 데이터프레임에는 몇 개의 관측값(observations)이 있는가?

1. 몇 개의 변수? 각 변수의 데이터 유형(data type)은 무엇인가?

1. `:` 연산자는 `1:10`처럼 사용하면 *1부터 10까지의 연속된 숫자 생성*을 의미함. 이를 활용하여 `murders`의 10번부터 25번 행을 포함하는 새로운 객체 `murders_2`를 만드시오.

1. `state`와 `total` 열만 포함하는 `murders_3` 객체를 만드시오. (`c` 함수가 벡터를 생성함)

1. 아래 코드를 실행하여 10,000명당 살인 사건 수를 나타내는 `total_percap` 변수를 생성하시오.
    
    ``` r
    murders$total_percap = (murders$total / murders$population) * 10000
    ```

`murders` 객체를 클릭하여 새 변수를 확인해 보시오.


---

layout: false
class: middle

# 강의 관련 정보


---


## 성적 산출

1. 거의 모든 수업에서 **in-class assignment (`task`)** 를 완성해서 제출 `\(\rightarrow\)` 40%

--

1. ***기말 프로젝트*** `\(\rightarrow\)` 60%

--

1. 출석은 확인하지 않음.

--

1. 시험은 없음.

--

1. 보통 A는 30%이내 (A+는 아주 뛰어난 경우), C는 총점 50점 미만의 경우, D/F 는 아주 저조한 경우 


---

# 수업 정책

*Be nice. Be honest. Don't cheat.*

--


**숙제는 늦게 제출하면 안됨**: 특별한 상황이 아닌 이상, 수업 끝나기 전에 모두 제출

**부정행위 및 타인의 과제 무단 활용을 금지**: 이유 막론하고 C나 F를 받게 됨

**그룹으로 협력**: 협력 장려, 다만 숙제나 프로젝트는 개인이 작성하여 제출



---

# 강의 계획서

.pull-left[
주제 1: ***Introduction***

주제 2 &amp; 3: ***Tidying, Visualising and Summarising Data***

주제 4: ***Simple Linear Regression***

주제 5: ***Introduction to Causality*** (Optional)

주제 6: ***Multiple Linear Regression***
]

.pull-right[
주제 7: ***Linear Regression Extensions*** (Optional)

주제 8: ***Sampling***

주제 9: ***Confidence Intervals and Hypothesis Testing***

주제 10: ***Statistical Inference***
]

---

# 기타 유용한 자료


.pull-left[
## 통계/ 계량경제
- [*Mastering Metrics* by Angrist and Pischke](https://uspc-spo.primo.exlibrisgroup.com/permalink/33USPC_SPO/1d4eftp/alma991003947949705808)
- [*Introductory Econometrics: A Modern Approach* by Wooldridge](https://uspc-spo.primo.exlibrisgroup.com/permalink/33USPC_SPO/mgsi7h/alma991003442469705808)
- [*Introductory Econometrics* by Kaplan](https://kaplandm.github.io/teach.html)
]

.pull-right[
## `R`의 활용
- [ModernDive](https://moderndive.com/)
- [Introduction to Econometrics with R](https://www.econometrics-with-r.org/)
- [Modern Statistics with R](https://www.modernstatisticswithr.com/)
- [Practical Statistics for Data Scientists](https://github.com/gedeck/practical-statistics-for-data-scientists)
- [R for Data Science](https://r4ds.had.co.nz/)
- [Awesome R Learning Resources](https://github.com/iamericfletcher/awesome-r-learning-resources)
]




---

class: title-slide-final, middle
background-size: 250px
background-position: 9% 19%

# SEE YOU NEXT WEEK!




    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="../js/ru_xaringan.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
